<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>JVM | MR.XSS</title><meta name="keywords" content="java基础"><meta name="author" content="MR.XSS"><meta name="copyright" content="MR.XSS"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="JVM"><meta name="application-name" content="JVM"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="JVM"><meta property="og:url" content="http://www.response.asia/2022/05/18/JVM/index.html"><meta property="og:site_name" content="MR.XSS"><meta property="og:description" content="JVM定义： Java Virture Machine -java的运行环境(java字节码的运行环境) 好处：  一次编写，到处运行  自动内存管理，垃圾回收功能  数组下标越界，越界检查  多态   结构图 相关参数 程序计数器： 作用：记住下一条jvm需要操作的执行地址   是线程私有的，每个"><meta property="og:locale" content="en"><meta property="og:image" content="https://images.alphacoders.com/106/1068443.jpg"><meta property="article:author" content="MR.XSS"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://images.alphacoders.com/106/1068443.jpg"><meta name="description" content="JVM定义： Java Virture Machine -java的运行环境(java字节码的运行环境) 好处：  一次编写，到处运行  自动内存管理，垃圾回收功能  数组下标越界，越界检查  多态   结构图 相关参数 程序计数器： 作用：记住下一条jvm需要操作的执行地址   是线程私有的，每个"><link rel="shortcut icon" href="/pic/favicon.png"><link rel="canonical" href="http://www.response.asia/2022/05/18/JVM/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"与数百名博主无限进步","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: undefined,
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: true
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"Author: MR.XSS","link":"Link: ","source":"Source: MR.XSS","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.","copySuccess":"Copy success, copy and reprint please mark the address of this article"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'MR.XSS',
  title: 'JVM',
  postAI: '',
  pageFillDescription: 'JVM, 结构图, 相关参数, 程序计数器：, 栈内存, 栈内存溢出, 线程运行诊断, 本地方法栈, 堆, Heap 堆, 堆内存溢出, 工具, 方法区, 组成, 常量池, StringTable(串池), 示例, 示例一, 示例2, 示例三, StringTable垃圾回收机制, StringTable调优, 直接内存, 释放原理, 垃圾回收(GC), 对象已死？, 五种引用, 软引用, 弱引用, 虚引用(使用引用队列), 终结器引用, 垃圾回收算法, 标记清除算法, 标记整理算法, 复制算法, 分代垃圾回收, 垃圾回收器, 串行, 吞吐量优先, 响应时间优先, 类加载, 类文件结构, 执行步骤, javap工具定义的运行环境字节码的运行环境好处一次编写到处运行自动内存管理垃圾回收功能数组下标越界越界检查多态结构图相关参数程序计数器作用记住下一条需要操作的执行地址是线程私有的每个线程都独有一个程序计数器在多线程操作下每个线程都独立拥有一个程序计数器当时间片用完时程序计数器会保存当前运行地址再次抢占到时间片时会再次激活该线程不会发生内存溢出栈内存栈线程运行时需要的内存空间称为虚拟机栈栈帧每个方法运行时需要的内存对应着每次方法调用所需要的内存活动栈帧每个线程只能有一个活动栈帧对应着当前正在执行的那个方法注垃圾回收是否涉及栈内存栈内存在方法执行结束后会自动弹出栈不需要支持栈内存是不是分配越大越好使用命令指定栈大小不指定默认为除外物理内存是固定的一个栈对应一个线程栈内存越大线程数越小判断变量是否是线程安全若方法内部变量没有逃离方法的作用范围他就是线程安全的如果是局部变量引用了对象并且逃离方法的作用范围需要考虑线程安全例子判断线程是否安全安全不安全不安全栈内存溢出栈帧过多导致栈内存溢出栈帧过大导致栈内存溢出几乎不会出现线程运行诊断占用过多定位使用定位哪个进程对占用过高进程用命令进一步定位是哪个线程引起占用过高命令进程可以根据线程找到问题进一步定位到代码的行数程序运行很长时间没有结果程序可能发生了死锁命令查看死锁本地方法栈不是使用代码编写的代码调用系统资源使用关键字调用本地方法堆堆通过关键字创建对象都会使用堆内存特点他是线程共享的堆中对象都需要考虑线程安全问题有垃圾回收机制堆内存溢出工具工具查看当前系统有哪些进程工具只是可以查看某一个时刻堆内存的占用情况查看堆内存占用情况工具图形化界面多功能的检测工具可以连续监测可视化内存工具案例垃圾回收后内存占有率依然很高方法区和其之前的结构在中方法区被废弃了取而代之的是元空间元空间是中的一个内存区域用于存储类信息常量池静态变量即时编译器编译后的代码等信息元空间的存储位置不是在进程堆内存中而是被移动到了本地内存中在启动时可以用参数来指定元空间的大小它的默认大小取决于平台的位数位或位和物理内存大小可以通过以下命令查看元空间的大小需要注意的是由于元空间不是在堆内存中因此它不受默认堆内存限制的影响如果你的应用程序使用了过多的类的话可能会出现元空间溢出的情况这时需要调整元空间的大小可以使用以下参数调整元空间的大小设置元空间初始大小为默认设置元空间最大的大小为默认不限制组成运行时常量池加载常量池中的常量信息加载到串池里面底层使用结构不能够扩容特性常量池中的字符串仅是符号第一次使用到后才会编程对象利用串池机制避免重复创建字符串对象字符串拼接原理是字符串常量拼接的原理是编译期优化可以使用方法主动将串池中还没有的字符串对象放进串池如果串池有就放入如果没有会放入串池会把串池中的对象返回常量池为虚拟机提共查找所用的常量表找到运行所需要的资源在中是一个哈希表用于加速字符串比较和访问存储了字符串对象的引用哈希值等数据而常量池则是在代码编译期间生成的保存在文件中的常量表用于存储各种常量的字面值符号引用等信息字符串常量池就属于其中的一种需要注意的是常量池和都是在内存模型中的一部分是用于优化程序效率和节省内存空间的重要机制但它们存储的内容不同常量池存储各种字面值和符号引用而则存储字符串对象的引用哈希值等信息串池结构示例示例一与是变量编译期间可能发生变化在编译时期的优化结果在编译期间确定为示例在中使用双引号定义的字符串被视为常量字符串它们会在编译期间被优化并添加到字符串常量池中而通过运算符创建的字符串对象则会在堆内存中动态分配内存每次都创建一个新的字符串对象并且不会被添加到字符串常量池中因此通过创建的字符串和双引号字符串是完全不同的两个对象它们在内存中的地址也不同例如使用双引号定义的字符串使用关键字创建的字符串输出上述代码将输出因为和是两个不同的对象它们在内存中的地址不同如果需要比较两个字符串的值是否相等应该使用方法而不是使用进行比较例如输出上述代码将输出因为方法比较的是两个字符串的值是否相等示例三中的字符串常量池是通过方法实现的当调用字符串对象的方法时会先检查常量池中是否已经存在该字符串如果存在则返回常量池中该字符串的引用如果不存在则在常量池中创建新的字符串并返回该字符串的引用具体地说方法的执行过程如下如果调用方法的字符串对象在常量池中已经存在则直接返回常量池中的该字符串的引用如果调用方法的字符串对象在常量池中不存在则在常量池中创建该字符串的一个副本并返回副本的引用需要注意的是方法在之前的实现会将字符串本身存入常量池中而及之后的实现则会将字符串对象在堆内存中的引用存入常量池中因此在使用方法时需要注意版本兼容性问题例如将字符串赋值给变量此时该字符串对象已经存储在字符串常量池中使用关键字创建一个新的字符串对象调用方法将该字符串添加到字符串常量池中并返回该字符串常量的引用当串池里面没有就会放进去有的话就放不进去因为和是两个不同的对象因为是字符串常量池中的字符串常量与的引用相同需要注意的是在某些情况下使用方法可能会导致一些性能问题尤其是当需要存储大量字符串时因为在添加字符串到常量池时需要进行字符串比较和哈希计算这些操作可能比创建新字符串对象的开销更大因此应该仔细权衡在使用方法时带来的影响垃圾回收机制里面的数据在虚拟机堆内存不足时会发生回收这个串池的回收类似于弱引用的回收当没有指针指向该字符串时就会触发垃圾回收调优当存在大量重复的字符串数据时可以考虑将字符串入池操作减少重复字符串对堆内存的占用情况直接内存操作系统内存常见于操作用于数据缓冲区分配回收成本比较高读写性能高不受内存回收管理文件拷贝操作使用传统操作直接内存使用代码可以使用方法直接访问释放原理中的直接内存是一种通过堆外内存分配的机制它可以在堆外分配内存缓解了对于内存回收的压力直接内存的回收是由自动进行管理的当对象不可达时会自动被回收通常来说使用直接内存时需要显式地调用对象的方法以释放该对象所持有的内存资源当调用方法时会使用一个内存管理器来释放该对象指向的堆外内存这个内存管理器的具体实现可能会使用一些操作系统提供的底层来进行内存释放例如下的和系统调用需要注意的是直接内存的使用需要谨慎因为过多的使用直接内存可能会导致内存碎片等问题导致应用程序出现性能瓶颈如果使用不当可能会对系统性能产生较大的影响在使用直接内存时需要合理估计内存使用量以便有效地控制系统内存的使用情况垃圾回收对象已死引用计数法引用计数法是一种垃圾回收算法它的基本思想是对堆中的每个对象维护一个引用计数器当一个对象被引用时其引用计数器值加一当一个对象被取消引用时其引用计数器值减一当一个对象的引用计数器值为时表示该对象已经不再被使用可以被回收引用计数法的优点是实现简单能够及时回收无用对象但它也存在一些缺点首先引用计数法无法处理循环引用情况即若干个对象之间形成环状引用则它们的引用计数器值永远不可能为因此这些对象会一直占用内存从而导致内存泄露其次引用计数法需要每个对象维护一个引用计数器如果程序中存在大量的对象这种开销可能会比较大存在循环引用现象可达性分析算法可达性分析算法是现代垃圾回收器中使用的一种主流算法其基本思想是通过一系列的根对象即作为起始点集从这些节点开始向下搜索标记所有可达的对象然后将未标记的对象视为无用对象进而回收它们所占用的内存在程序中包括以下几种类型的对象虚拟机栈栈帧中的本地变量表中引用的对象方法区中类静态属性引用的对象方法区中常量引用的对象本地方法栈中即一般说的方法引用的对象可达性分析算法从这些对象开始搜索它们所引用的对象如果某个对象已经被标记则递归搜索该对象所引用的对象直到搜索完所有可达的对象为止在搜索时对于不同层次的对象可达性分析算法使用不同的标记方式例如在新生代的垃圾回收过程中使用的是标记复制算法其中对象被标记后会被复制到另外一块内存中而在老年代的垃圾回收过程中使用的是标记清除整理算法其中对象被标记后会被移动到内存的一端然后释放其它一端的内存空间优点可以有效地处理循环引用问题并且能够避免引用计数法的开销缺点在搜索时需要扫描整个堆内存因此其效率在一定程度上受到堆内存大小的限制五种引用强引用在中强引用是最基本的引用类型之一它通常是指通过一个变量来直接引用一个对象如果一个对象存在强引用它就不会被垃圾回收器回收只有当所有的强引用都失效时该对象的内存才会被回收例如假设我们创建了一个对象并通过变量引用它那么就是一个强引用只要存在垃圾回收器就不会回收对象当超出作用域或显式将其赋值为时对象才会成为垃圾回收的目标示例代码如下是强引用赋值为成为垃圾需要注意的是在使用强引用时要尽量避免出现内存泄漏即对象已经不再需要但却因为存在强引用而无法被回收的情况软引用在中软引用是一种比强引用更为弱化的引用类型如果一个对象只有软引用那么当虚拟机内存紧张时这个对象就会被回收软引用可以通过类来创建它可以用来实现缓存和优化内存使用当内存足够时软引用对应的对象就像强引用一样不会被回收但当内存不足时就会自动回收这个对象因此软引用适用于那些占用内存较大但仍有一定可用性的对象示例代码如下创建软引用在内存充足时软引用对应的对象不会被回收释放内存后软引用对应的对象会被回收需要注意的是软引用对应的对象并不保证会被回收这取决于的内存占用情况因此软引用仅能用作缓存等场景不能依赖软引用来进行精确控制对象生命周期弱引用在中弱引用是比软引用更弱化的引用类型如果一个对象只有弱引用那么当垃圾回收器扫描到该对象时不论内存是否充足都会将其回收弱引用可以通过类来创建它与软引用一样可以用于实现缓存和优化内存使用但与之不同的是只要假设该对象的弱引用被清除就会自动对该对象进行回收因此弱引用适用于那些占用内存较大但不一定需要使用的对象示例代码如下创建弱引用弱引用对应的对象已被回收触发垃圾回收后弱引用对应的对象被回收需要注意的是由于弱引用对应的对象可能已被回收因此获取弱引用的对象时需要进行判空处理并且使用弱引用应该避免被回收的对象被其他线程访问产生竞争问题虚引用使用引用队列在中虚引用是最弱化的引用类型如果一个对象只有虚引用那么这个对象在任何时候都可能被回收甚至在方法被调用之前虚引用可以通过类来创建不同于弱引用和软引用虚引用并不影响对象的生命周期虚引用主要用于跟踪对象是否已被垃圾回收器回收以及在对象被回收时进行一些必要的清理工作示例代码如下创建虚引用获取虚引用对应的对象始终为触发垃圾回收后虚引用对应的对象被回收并触发清理工作完成清理工作处理中的进行清理工作需要注意的是虚引用不能直接通过方法获取其对应的对象只能通过进行操作同时在使用虚引用时需要确保在虚引用对象被回收时执行必要清理工作终结器引用终结器引用也是中的一个比较特殊的引用类型通常称为对象的终结器或引用终结器引用通过重写类中的方法来实现在对象被回收之前可以执行一些清理工作当发现一个可回收对象的时候会把这个对象放到一个队列里面然后由一个专门的线程在适当的时间调用对象的方法在方法内部程序可以实现释放该对象所占用的资源等操作完成操作后该对象的内存才会被真正释放需要注意的是方法的调用是不可靠的即不能保证该方法一定会被调用另外在版本中方法已经被弃用推荐使用架构进行资源回收管理示例代码如下在这里可以进行一些清理工作需要注意的是方法一定要在子类中重写在该方法中调用超类的方法以确保链得到正确的处理同时由于方法会影响垃圾收集性能因此应该尽量避免在程序中过多地使用该方法垃圾回收算法标记清除算法速度快产生内存碎片会产生内存碎片当新建对象时新建对象空间大于内存碎片大小这时总空间足够但是由于碎片化创建对象无法成功导致内存泄漏标记整理算法整理会使对象移动改变对象引用地址导致速度较低复制算法缺点占用双倍空间分代垃圾回收简介分代垃圾回收是一种在垃圾回收过程中将对象分为几个代的机制一般情况下把里面的内存分为初始代和老年代两个领域再把新生代分为伊甸园区和幸村区区和三个区区和的角色是交替的主要目的是根据对象的生命周期将内存划分为不同的区域并针对不同区域采用不同的垃圾收集算法以提高垃圾回收效率执行流程分代垃圾回收的执行流程通常包括以下几个步骤对象的创建当程序需要创建一个对象时将根据对象大小将其放入相应的内存区域中进行创建一般会被放入区域区的垃圾回收当区域填满时将启动一次小型垃圾回收对区域中的对象进行垃圾回收在回收过程中未被回收的对象将被复制到另一个区域中并从区域中删除区域的垃圾回收在区域中采用复制算法进行垃圾回收当区域中的区域和区域被占满时将触发一次将一部分存活的对象复制到另一个区域老年代区域的垃圾回收当老年代区域的内存空间被占满时将启动大型垃圾回收对老年代区域中的对象进行垃圾回收在回收过程中暂停应用程序将未被清理的对象标记后释放掉未标记的对象除此之外还有一些其他的如永久代的回收等不过它们都与分代垃圾回收算模型图对象首先分配在伊甸园区域新生代空间不足时触发伊园和存活的对象使用复制到中存活的对象年龄加并目交换会引发暂停其它用户的线程等垃圾回收结束用户线程才恢复运行当对象寿命超过闻值时会晋升至老年代最大寿命是当老年代空间不足会先尝试触发如果之后空间仍不足那么触发的时间更长垃圾回收器串行单线程堆内存较小适合个人电脑吞吐量优先多线程堆内存较大场景多核支持单位时间内的时间最短响应时间优先多线程堆内存较大场景多核支持尽可能使的时间变短串行吞吐量优先默认使用此垃圾回收器响应时间优先类加载类文件结构类文件是程序编译后生成的二进制文件它包含了代码编译后的字节码类文件结构包括以下部分魔数个字节的无符号整数标识该文件是否为类文件其值为版本信息个字节的无符号整数分别表示该文件采用的虚拟机版本和编译器的版本常量池包含了类字段方法等各种符号引用所需要的常量它是一张表表项数量不固定访问标志个字节的无符号整数表示该类或接口的访问权限控制关键字如等类索引父类索引和接口索引集合个字段共个字节分别表示该类的全限定名父类的全限定名和该类实现的所有接口字段表集合和方法表集合分别描述该类的所有字段和方法每个字段和方法的表项数量不固定属性表集合用于存储与该类相关的所有属性信息其大小和数量不固定类文件结构的组合形式是类似于树形结构的多个部分按照特定的顺序排列它们共同构成了程序的基本结构执行步骤虚拟机在运行程序时会按照一定的顺序加载程序所需的类类加载的步骤包括加载从文件网络或其他来源加载字节码文件并将其转换成该类的运行时数据结构即能够识别的对象格式链接验证保证该字节码文件符合规范比如是否包含不兼容的版本等错误准备为类的静态变量分配存储空间并设置默认初始化值解析将类中的符号引用转换为直接引用并将其与其他类进行连接这是静态绑定的重要阶段初始化对类的静态字段进行初始化包括指定字段值或执行静态语句块中的代码当初始化一个类时其父类也会被初始化需要注意的是类在运行期间可能会被多次加载但只会初始化一次其他的情况再次加载该类时就会直接使用已加载的类而不会再次初始化此外类加载还有以下特点双亲委派机制如果一个类加载器收到了加载请求它会先将加载请求委派给其父类加载器这样除了在顶层和底层之外每个类加载器都有机会处理加载请求缓存机制一旦一个类加载器将某个类加载到了内存中它就会将该类保存在缓存中下次请求加载该类时它就能够直接使用缓存中的类而无需再次加载和初始化可见性一个类加载器所加载的类可以被同一个类加载器所加载的其他类所访问到但同一个类加载器所加载的类不能被其他类加载器所加载的类所访问到这是为了保证类的隔离性和安全性工具是开发工具包自带的一个命令行工具用于查看类文件的反汇编结果使用命令你需要打开命令行窗口然后输入以下命令其中为可选项用于设置反汇编的选项比如选项可以显示更详细的反汇编信息为必需项指定需要反汇编的类文件可以是文件文件或者包含文件的目录下面是一个简单的示例假设我们需要反汇编文件我们可以使用以下命令该命令可以显示文件的更详细的反汇编信息包括类的访问修饰符类名父类接口字段方法等等除了选项外还可以使用其他选项如选项可以显示字节码指令选项可以显示行号信息选项可以显示源文件以及调试符号信息等等具体可查阅命令的文档示例存入一号槽位加载一号槽位值到数栈在一号槽位加一',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-10-27 10:03:36',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://avatars.githubusercontent.com/u/108183604?s=400&amp;u=e0cc038a9caa5a1a9dda51c4b6b39b7b67a7e4db&amp;v=4"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.response.asia/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目一</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/Xss521/api-gateway" title="分布式服务器网关"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="分布式服务器网关"/><span class="back-menu-item-text">分布式服务器网关</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/xushuaishuai521/knowledge-sharing" title="知识书库"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="知识书库"/><span class="back-menu-item-text">知识书库</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">MR.XSS</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 轨道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 生活</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于我</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/pic/weixinzhifu.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="/pic/weixinzhifu.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/pic/zhifubao.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="/pic/zhifubao.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CAS/" style="font-size: 1.05rem;">CAS<sup>1</sup></a><a href="/tags/Docker/" style="font-size: 1.05rem;">Docker<sup>1</sup></a><a href="/tags/I-O/" style="font-size: 1.05rem;">I/O<sup>1</sup></a><a href="/tags/JWT/" style="font-size: 1.05rem;">JWT<sup>1</sup></a><a href="/tags/MQ/" style="font-size: 1.05rem;">MQ<sup>1</sup></a><a href="/tags/NOSQL/" style="font-size: 1.05rem;">NOSQL<sup>1</sup></a><a href="/tags/Pool/" style="font-size: 1.05rem;">Pool<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem;">SQL<sup>4</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>1</sup></a><a href="/tags/Swagger/" style="font-size: 1.05rem;">Swagger<sup>1</sup></a><a href="/tags/java/" style="font-size: 1.05rem;">java<sup>1</sup></a><a href="/tags/java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" style="font-size: 1.05rem;">java内存模型<sup>1</sup></a><a href="/tags/java%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">java基础<sup>2</sup></a><a href="/tags/shell/" style="font-size: 1.05rem;">shell<sup>1</sup></a><a href="/tags/spring/" style="font-size: 1.05rem;">spring<sup>1</sup></a><a href="/tags/%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">创建者模式<sup>4</sup></a><a href="/tags/%E5%93%B2%E5%AD%A6%E5%8A%A0%E5%B0%B1%E9%A4%90%E9%97%AE%E9%A2%98/" style="font-size: 1.05rem;">哲学加就餐问题<sup>1</sup></a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.05rem;">多线程<sup>2</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.05rem;">安全<sup>1</sup></a><a href="/tags/%E6%A0%91/" style="font-size: 1.05rem;">树<sup>2</sup></a><a href="/tags/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">结构型模式<sup>7</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE/" style="font-size: 1.05rem;">网络传输协议<sup>1</sup></a><a href="/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 1.05rem;">行为型模式<sup>5</sup></a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.05rem;">链表<sup>2</sup></a><a href="/tags/%E9%94%81/" style="font-size: 1.05rem;">锁<sup>1</sup></a><a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 1.05rem;">集合<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 1.05rem;">项目<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">August 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">July 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">June 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">16</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">11</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/java%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>java基础</span></a></span></div></div><h1 class="post-title" itemprop="name headline">JVM</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2022-05-18T13:24:04.000Z" title="Created 2022-05-18 21:24:04">2022-05-18</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-10-27T02:03:36.557Z" title="Updated 2023-10-27 10:03:36">2023-10-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span id="" data-flag-title="JVM"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">Post View:</span><span class="waline-pageview-count" data-path="/2022/05/18/JVM/" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为沈阳"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>沈阳</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://images.alphacoders.com/106/1068443.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://www.response.asia/2022/05/18/JVM/"><header><a class="post-meta-categories" href="/categories/java/" itemprop="url">java</a><a href="/tags/java%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url">java基础</a><h1 id="CrawlerTitle" itemprop="name headline">JVM</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">MR.XSS</span><time itemprop="dateCreated datePublished" datetime="2022-05-18T13:24:04.000Z" title="Created 2022-05-18 21:24:04">2022-05-18</time><time itemprop="dateCreated datePublished" datetime="2023-10-27T02:03:36.557Z" title="Updated 2023-10-27 10:03:36">2023-10-27</time></header><h1 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h1><p>定义：</p>
<p>Java Virture Machine -java的运行环境(java字节码的运行环境)</p>
<p>好处：</p>
<ul>
<li><p>一次编写，到处运行</p>
</li>
<li><p>自动内存管理，垃圾回收功能</p>
</li>
<li><p>数组下标越界，越界检查</p>
</li>
<li><p>多态</p>
</li>
</ul>
<h2 id="结构图"><a href="#结构图" class="headerlink" title="结构图"></a>结构图</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502093333819.png" alt="image-20230502093333819"></p>
<h2 id="相关参数"><a href="#相关参数" class="headerlink" title="相关参数"></a>相关参数</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503125331215.png" alt="image-20230503125331215"></p>
<h2 id="程序计数器："><a href="#程序计数器：" class="headerlink" title="程序计数器："></a>程序计数器：</h2><blockquote>
<p>作用：记住下一条jvm需要操作的执行地址</p>
</blockquote>
<ul>
<li><p>是线程私有的，每个线程都独有一个程序计数器</p>
<p>​	在多线程操作下，每个线程都独立拥有一个程序计数器，当时间片用完时，程序计数器会保存当前运行地址，再次抢占到cpu时间片时，会再次激活该线程</p>
</li>
<li><p>不会发生内存溢出</p>
</li>
</ul>
<h2 id="栈内存"><a href="#栈内存" class="headerlink" title="栈内存"></a>栈内存</h2><p><strong>栈(Java Virtual Machine Stacks)：</strong>线程运行时需要的内存空间,称为虚拟机栈</p>
<p><strong>栈帧：</strong>每个方法运行时需要的内存，对应着每次方法调用所需要的内存</p>
<p><strong>活动栈帧：</strong>每个线程只能有一个活动栈帧，对应着当前正在执行的那个方法</p>
<p><strong>注：</strong></p>
<ol>
<li><p>垃圾回收是否涉及栈内存</p>
<p>栈内存在方法执行结束后，会自动弹出栈，不需要GC支持</p>
</li>
<li><p>栈内存是不是分配越大越好</p>
<p>使用 -Xss size命令指定栈大小，不指定默认为1024kb，windows除外，</p>
<p>物理内存是固定的，一个栈对应一个线程，栈内存越大，线程数越小</p>
</li>
<li><p>判断变量是否是线程安全</p>
<ul>
<li>若方法内部变量没有逃离方法的作用范围，他就是线程安全的</li>
<li>如果是局部变量引用了对象，并且逃离方法的作用范围，需要考虑线程安全</li>
</ul>
<blockquote>
<p><strong>例子</strong></p>
</blockquote>
<p>判断线程是否安全</p>
<p>​	<strong>m1安全，m2不安全，m3不安全</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502095221610.png" alt="image-20230502095221610"></p>
</li>
</ol>
<h3 id="栈内存溢出"><a href="#栈内存溢出" class="headerlink" title="栈内存溢出"></a>栈内存溢出</h3><blockquote>
<p>Java.lang.StackOverflowError</p>
</blockquote>
<ul>
<li>栈帧过多导致栈内存溢出</li>
<li>栈帧过大导致栈内存溢出(几乎不会出现)</li>
</ul>
<h3 id="线程运行诊断"><a href="#线程运行诊断" class="headerlink" title="线程运行诊断"></a>线程运行诊断</h3><p><strong>cpu占用过多</strong></p>
<p>定位</p>
<ul>
<li>使用top定位哪个进程对cpu占用过高</li>
<li>ps H -eo pid,tid,%cpu|grep进程id(用ps命令进一步定位是哪个线程引起cpu占用过高)</li>
<li>jdk命令：   jstack  进程 id<ul>
<li>可以根据线程id找到问题，进一步定位到代码的行数</li>
</ul>
</li>
</ul>
<p><strong>程序运行很长时间没有结果</strong></p>
<p>​	 程序可能发生了死锁</p>
<blockquote>
<p>​	Jstack命令查看</p>
</blockquote>
<blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502124611865.png" alt="image-20230502124611865"></p>
</blockquote>
<blockquote>
<p>死锁</p>
</blockquote>
<p>​		<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="image-20230502124415450.png" alt="image-20230502124415450" style="zoom:80%;" /></p>
<h2 id="本地方法栈"><a href="#本地方法栈" class="headerlink" title="本地方法栈"></a>本地方法栈</h2><blockquote>
<p>不是使用java代码编写的代码，调用系统资源</p>
</blockquote>
<p>​	使用native关键字调用本地方法</p>
<h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><h3 id="Heap-堆"><a href="#Heap-堆" class="headerlink" title="Heap 堆"></a>Heap 堆</h3><p>​	通过new关键字，创建对象都会使用堆内存</p>
<p><strong>特点</strong></p>
<ul>
<li>他是线程共享的，堆中对象都需要考虑线程安全问题</li>
<li>有垃圾回收机制</li>
</ul>
<h3 id="堆内存溢出"><a href="#堆内存溢出" class="headerlink" title="堆内存溢出"></a>堆内存溢出</h3><blockquote>
<p>java.lang.OutOfMemoryError:java heap space</p>
</blockquote>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><ol>
<li>jps工具</li>
</ol>
<ul>
<li>查看当前系统有哪些java进程</li>
</ul>
<ol start="2">
<li>jmap工具</li>
</ol>
<p><strong>只是可以查看某一个时刻堆内存的占用情况</strong></p>
<ul>
<li>查看堆内存占用情况</li>
</ul>
<ol start="3">
<li><p>jconsole工具</p>
<ul>
<li>图形化界面，多功能的检测工具，可以连续监测</li>
</ul>
</li>
<li><p>jvisualvm      </p>
<ul>
<li>可视化jvm内存工具</li>
</ul>
</li>
</ol>
<p>案例</p>
<ul>
<li>垃圾回收后，内存占有率依然很高</li>
</ul>
<h2 id="方法区"><a href="#方法区" class="headerlink" title="方法区"></a>方法区</h2><blockquote>
<p>1.8和其之前的结构</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502172137992.png" alt="image-20230502172137992"></p>
<p>​		在 JDK 1.8 中，方法区被废弃了，取而代之的是元空间(Metaspace)。元空间是 JVM 中的一个内存区域，用于存储类信息、常量池、静态变量、即时编译器编译后的代码等信息。元空间的存储位置不是在 JVM 进程堆内存中，而是被移动到了本地内存中。在 JVM 启动时，可以用参数来指定元空间的大小，它的默认大小取决于平台的位数（32位或64位）和物理内存大小。可以通过以下命令查看元空间的大小:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -XX:+PrintFlagsFinal -version | grep MetaspaceSize</span><br></pre></td></tr></table></figure>

<p>​		需要注意的是，由于元空间不是在堆内存中，因此它不受默认堆内存限制的影响。如果你的应用程序使用了过多的类的话，可能会出现元空间溢出的情况，这时需要调整元空间的大小。可以使用以下参数调整元空间的大小：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-XX:MetaspaceSize=&lt;n&gt;    //设置元空间初始大小为n，默认2147483648B</span><br><span class="line">-XX:MaxMetaspaceSize=&lt;n&gt;    //设置元空间最大的大小为n，默认不限制</span><br></pre></td></tr></table></figure>



<h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><ol>
<li><p>运行时常量池(StringTable)</p>
<p>加载常量池中的常量信息，加载到串池里面(StringTable)，底层使用hashtable结构，不能够扩容</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="C:\Users\xss\AppData\Roaming\Typora\typora-user-images\image-20230102174023760.png" alt="image-20230102174023760"></p>
</li>
<li><p>StringTable特性</p>
<ul>
<li><p>常量池中的字符串仅是符号，第一次使用到后才会编程对象</p>
</li>
<li><p>利用串池机制，避免重复创建字符串对象</p>
</li>
<li><p>字符串拼接原理是StringBuilder</p>
</li>
<li><p>字符串常量拼接的原理是编译期优化</p>
</li>
<li><p>可以使用intern()方法，主动将串池中还没有的字符串对象放进串池，如果串池有就放入，如果没有会放入串池，会把<strong>串池</strong>中的对象返回</p>
</li>
</ul>
</li>
</ol>
<h2 id="常量池"><a href="#常量池" class="headerlink" title="常量池"></a>常量池</h2><blockquote>
<p>为虚拟机提共查找所用的常量表，找到运行所需要的资源</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502204000715.png" alt="image-20230502204000715"></p>
<p>​		在 Java 中，StringTable 是一个哈希表（Hash Table），用于加速字符串比较和访问，存储了字符串对象的引用、哈希值等数据。而常量池（Constant Pool）则是在 Java 代码编译期间生成的保存在 Class 文件中的常量表，用于存储各种常量的字面值、符号引用等信息，Java 字符串常量池就属于其中的一种。</p>
<p>​	需要注意的是，常量池和 StringTable 都是在 Java 内存模型中的一部分，是用于优化程序效率和节省内存空间的重要机制。但它们存储的内容不同，常量池存储各种字面值和符号引用，而 StringTable 则存储字符串对象的引用、哈希值等信息。</p>
<h3 id="StringTable-串池"><a href="#StringTable-串池" class="headerlink" title="StringTable(串池)"></a>StringTable(串池)</h3><blockquote>
<p>结构</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="C:\Users\xss\AppData\Roaming\Typora\typora-user-images\image-20230102204400084.png" alt="image-20230102204400084"></p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="示例一"><a href="#示例一" class="headerlink" title="示例一"></a>示例一</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">string</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;b&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;ab&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> s1 + s2;     <span class="comment">//s1与s2是变量，编译期间可能发生变化new 							  							StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span> + <span class="string">&quot;b&quot;</span>;   <span class="comment">//javac在编译时期的优化，结果在编译期间确定为ab</span></span><br><span class="line"></span><br><span class="line">System.out.println(s4 == s3);  <span class="comment">//false</span></span><br><span class="line">System.out.println(s5 == s3);  <span class="comment">//true</span></span><br></pre></td></tr></table></figure>



<h4 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h4><p>​		在 Java 中，使用双引号定义的字符串被视为常量字符串，它们会在编译期间被优化并添加到字符串常量池中。而通过 <code>new</code> 运算符创建的字符串对象则会在堆内存中动态分配内存，每次都创建一个新的字符串对象，并且不会被添加到字符串常量池中。</p>
<p>​		因此通过 <code>new</code> 创建的字符串和双引号字符串是完全不同的两个对象，它们在内存中的地址也不同。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;     <span class="comment">// 使用双引号定义的字符串</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);  <span class="comment">// 使用 new 关键字创建的字符串</span></span><br><span class="line">System.out.println(str1 == str2);  <span class="comment">// 输出 false</span></span><br></pre></td></tr></table></figure>

<p>​		上述代码将输出 <code>false</code>，因为 <code>str1</code> 和 <code>str2</code> 是两个不同的对象，它们在内存中的地址不同。</p>
<p>​		如果需要比较两个字符串的值是否相等，应该使用 <code>equals()</code> 方法，而不是使用 <code>==</code> 进行比较。例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">System.out.println(str1.equals(str2));  <span class="comment">// 输出 true</span></span><br></pre></td></tr></table></figure>

<p>上述代码将输出 <code>true</code>，因为 <code>equals()</code> 方法比较的是两个字符串的值是否相等。</p>
<h4 id="示例三"><a href="#示例三" class="headerlink" title="示例三"></a>示例三</h4><p>​			Java中的字符串常量池是通过String.intern()方法实现的。当调用字符串对象的intern()方法时，JVM会先检查常量池中是否已经存在该字符串，如果存在，则返回常量池中该字符串的引用；如果不存在，则在常量池中创建新的字符串，并返回该字符串的引用。</p>
<p>具体地说，String.intern()方法的执行过程如下：</p>
<ol>
<li><p>如果调用intern()方法的字符串对象在常量池中已经存在，则直接返回常量池中的该字符串的引用。</p>
</li>
<li><p>如果调用intern()方法的字符串对象在常量池中不存在，则在常量池中创建该字符串的一个副本，并返回副本的引用。</p>
<p>​		需要注意的是，String.intern()方法在JDK 7之前的实现会将字符串本身存入常量池中，而JDK 7及之后的实现则会将字符串对象在堆内存中的引用存入常量池中。因此，在使用String.intern()方法时需要注意版本兼容性问题。</p>
</li>
</ol>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;test&quot;</span>; <span class="comment">// 将字符串赋值给变量，此时该字符串对象已经存储在字符串常量池中</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;test&quot;</span>); <span class="comment">// 使用 new 关键字创建一个新的字符串对象</span></span><br><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> str2.intern(); <span class="comment">// 调用 intern() 方法将该字符串添加到字符串常量池中，并返回该字符串常量的引用，当串池里面没有str2，str2就会放进去，有的话就放不进去</span></span><br><span class="line"></span><br><span class="line">System.out.println(str1 == str2); <span class="comment">// false，因为 str1 和 str2 是两个不同的对象</span></span><br><span class="line">System.out.println(str1 == str3); <span class="comment">// true，因为 str3 是字符串常量池中的字符串常量与 str1 的引用相同</span></span><br></pre></td></tr></table></figure>

<p>​		需要注意的是，在某些情况下，使用 <code>intern()</code> 方法可能会导致一些性能问题，尤其是当需要存储大量字符串时。因为在添加字符串到常量池时，需要进行字符串比较和哈希计算，这些操作可能比创建新字符串对象的开销更大。因此，应该仔细权衡在使用 <code>intern()</code> 方法时带来的影响。</p>
<h3 id="StringTable垃圾回收机制"><a href="#StringTable垃圾回收机制" class="headerlink" title="StringTable垃圾回收机制"></a>StringTable垃圾回收机制</h3><p>​		StingTable里面的数据在虚拟机堆内存不足时会发生回收，这个串池的回收类似于弱引用的回收，当没有指针指向该字符串时，就会触发GC垃圾回收</p>
<h3 id="StringTable调优"><a href="#StringTable调优" class="headerlink" title="StringTable调优"></a>StringTable调优</h3><p>当存在大量重复的字符串数据时，可以考虑将字符串入池intern()操作，减少重复字符串对堆内存的占用情况</p>
<h2 id="直接内存"><a href="#直接内存" class="headerlink" title="直接内存"></a>直接内存</h2><p>Direct Memory(操作系统内存)</p>
<ul>
<li>常见于nio操作，用于数据缓冲区</li>
<li>分配回收成本比较高，读写性能高</li>
<li>不受JVM内存回收管理</li>
</ul>
<blockquote>
<p>文件拷贝操作，使用传统io操作</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230502222120994.png" alt="image-20230502222120994"></p>
<blockquote>
<p>直接内存使用，java代码可以使用native方法直接访问</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="C:\Users\xss\AppData\Roaming\Typora\typora-user-images\image-20230103094611824.png" alt="image-20230103094611824"></p>
<h3 id="释放原理"><a href="#释放原理" class="headerlink" title="释放原理"></a>释放原理</h3><p>​		Java中的直接内存（Direct Memory）是一种通过堆外内存分配的机制，它可以在堆外分配内存Buffer，缓解了GC对于内存回收的压力。直接内存的回收是由JVM自动进行管理的，当对象不可达时，会自动被回收。</p>
<p>​		通常来说，使用直接内存时需要显式地调用Buffer对象的release()方法以释放该对象所持有的内存资源。当调用release()方法时，JVM会使用一个内存管理器来释放该对象指向的堆外内存。这个内存管理器的具体实现，可能会使用一些操作系统提供的底层API来进行内存释放，例如Linux下的mmap和munmap系统调用。</p>
<p>​		需要注意的是，直接内存的使用需要谨慎，因为过多的使用直接内存可能会导致内存碎片等问题，导致应用程序出现性能瓶颈。如果使用不当，可能会对系统性能产生较大的影响。在使用直接内存时，需要合理估计内存使用量，以便有效地控制系统内存的使用情况。</p>
<h2 id="垃圾回收-GC"><a href="#垃圾回收-GC" class="headerlink" title="垃圾回收(GC)"></a>垃圾回收(GC)</h2><h3 id="对象已死？"><a href="#对象已死？" class="headerlink" title="对象已死？"></a>对象已死？</h3><ul>
<li><p>引用计数法</p>
<p>​		引用计数法是一种垃圾回收算法，它的基本思想是对堆中的每个对象维护一个引用计数器。当一个对象被引用时，其引用计数器值加一；当一个对象被取消引用时，其引用计数器值减一。当一个对象的引用计数器值为0时，表示该对象已经不再被使用，可以被回收。</p>
<p>​		引用计数法的优点是实现简单，能够及时回收无用对象。但它也存在一些缺点。首先，引用计数法无法处理循环引用情况，即若干个对象之间形成环状引用，则它们的引用计数器值永远不可能为0，因此这些对象会一直占用内存，从而导致内存泄露。其次，引用计数法需要每个对象维护一个引用计数器，如果程序中存在大量的对象，这种开销可能会比较大。</p>
<p>存在循环引用现象</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="C:\Users\xss\AppData\Roaming\Typora\typora-user-images\image-20230103104430347.png" alt="image-20230103104430347"></p>
</li>
<li><p>可达性分析算法</p>
<p>​		可达性分析算法是现代垃圾回收器中使用的一种主流算法，其基本思想是通过一系列的根对象，即”GC Roots”作为起始点集，从这些节点开始向下搜索，标记所有可达的对象，然后将未标记的对象视为无用对象，进而回收它们所占用的内存。</p>
<p><strong>在Java程序中，GC Roots包括以下几种类型的对象：</strong></p>
<ol>
<li>虚拟机栈（栈帧中的本地变量表）中引用的对象</li>
<li>方法区中类静态属性引用的对象</li>
<li>方法区中常量引用的对象</li>
<li>本地方法栈中JNI（即一般说的Native方法）引用的对象。</li>
</ol>
<p>​      可达性分析算法从这些GC Roots对象开始，搜索它们所引用的对象，如果某个对象已经被标记，则递归搜索该对象所引用的对象，直到搜索完所有可达的对象为止。</p>
<p>​		在搜索时，对于不同层次的对象，可达性分析算法使用不同的标记方式。例如，在新生代的垃圾回收过程中，使用的是标记-复制算法，其中对象被标记后会被复制到另外一块内存中；而在老年代的垃圾回收过程中，使用的是标记-清除-整理算法，其中对象被标记后会被移动到内存的一端，然后释放其它一端的内存空间。</p>
<p>​		<strong>优点</strong>：可以有效地处理循环引用问题，并且能够避免引用计数法的开销。</p>
<p>​		<strong>缺点</strong>：在搜索时需要扫描整个堆内存，因此其效率在一定程度上受到堆内存大小的限制。</p>
</li>
</ul>
<h3 id="五种引用"><a href="#五种引用" class="headerlink" title="五种引用"></a>五种引用</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503104922406.png" alt="image-20230503104922406"></p>
<pre><code>    #### 强引用
</code></pre>
<p>​	在Java中，强引用是最基本的引用类型之一，它通常是指通过一个变量来直接引用一个对象。如果一个对象存在强引用，它就不会被垃圾回收器回收，只有当所有的强引用都失效时，该对象的内存才会被回收。</p>
<p>​	例如，假设我们创建了一个对象 obj，并通过变量 ref 引用它，那么 ref 就是一个强引用。只要 ref 存在，垃圾回收器就不会回收 obj 对象。当 ref 超出作用域或显式将其赋值为 null 时，obj 对象才会成为垃圾回收的目标。</p>
<p><strong>示例代码如下</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="type">Object</span> <span class="variable">ref</span> <span class="operator">=</span> obj;  <span class="comment">// ref 是强引用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ref 赋值为 null，obj 成为垃圾</span></span><br><span class="line">ref = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>​	需要注意的是，在使用强引用时，要尽量避免出现内存泄漏，即对象已经不再需要，但却因为存在强引用而无法被回收的情况。</p>
<h4 id="软引用"><a href="#软引用" class="headerlink" title="软引用"></a>软引用</h4><p>​		在Java中，软引用是一种比强引用更为弱化的引用类型。如果一个对象只有软引用，那么当虚拟机内存紧张时，这个对象就会被回收。</p>
<p>​		软引用可以通过 java.lang.ref.SoftReference 类来创建，它可以用来实现缓存和优化内存使用。当 JVM 内存足够时，软引用对应的对象就像强引用一样，不会被回收；但当内存不足时，JVM 就会自动回收这个对象。因此，软引用适用于那些占用内存较大、但仍有一定可用性的对象。</p>
<p><strong>示例代码如下</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">SoftReference&lt;Object&gt; softRef = <span class="keyword">new</span> <span class="title class_">SoftReference</span>&lt;&gt;(object); <span class="comment">// 创建软引用</span></span><br><span class="line">object = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在内存充足时，软引用对应的对象不会被回收</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">strongRef</span> <span class="operator">=</span> softRef.get();</span><br><span class="line">System.out.println(strongRef);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 释放内存后，软引用对应的对象会被回收</span></span><br><span class="line">System.gc();</span><br><span class="line">strongRef = softRef.get();</span><br><span class="line">System.out.println(strongRef);</span><br></pre></td></tr></table></figure>

<p>需要注意的是，软引用对应的对象并不保证会被回收，这取决于 JVM 的内存占用情况。因此，软引用仅能用作缓存等场景，不能依赖软引用来进行精确控制对象生命周期。</p>
<h4 id="弱引用"><a href="#弱引用" class="headerlink" title="弱引用"></a>弱引用</h4><p>​		在Java中，弱引用是比软引用更弱化的引用类型。如果一个对象只有弱引用，那么当垃圾回收器扫描到该对象时，不论内存是否充足，都会将其回收。</p>
<p>​		弱引用可以通过 java.lang.ref.WeakReference 类来创建，它与软引用一样，可以用于实现缓存和优化内存使用。但与之不同的是，只要假设该对象的弱引用被清除，JVM 就会自动对该对象进行回收。因此，弱引用适用于那些占用内存较大、但不一定需要使用的对象。</p>
<p><strong>示例代码如下</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">WeakReference&lt;Object&gt; weakRef = <span class="keyword">new</span> <span class="title class_">WeakReference</span>&lt;&gt;(object); <span class="comment">// 创建弱引用</span></span><br><span class="line">object = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 弱引用对应的对象已被回收</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">strongRef</span> <span class="operator">=</span> weakRef.get();</span><br><span class="line">System.out.println(strongRef);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 触发垃圾回收后，弱引用对应的对象被回收</span></span><br><span class="line">System.gc();</span><br><span class="line">strongRef = weakRef.get();</span><br><span class="line">System.out.println(strongRef);</span><br></pre></td></tr></table></figure>

<p>​		需要注意的是，由于弱引用对应的对象可能已被回收，因此获取弱引用的对象时，需要进行判空处理。并且，使用弱引用应该避免被回收的对象被其他线程访问产生竞争问题。</p>
<h4 id="虚引用-使用引用队列"><a href="#虚引用-使用引用队列" class="headerlink" title="虚引用(使用引用队列)"></a>虚引用(使用引用队列)</h4><p>​		在Java中，虚引用是最弱化的引用类型。如果一个对象只有虚引用，那么这个对象在任何时候都可能被回收，甚至在 finalize() 方法被调用之前。</p>
<p>​		虚引用可以通过 java.lang.ref.PhantomReference 类来创建，不同于弱引用和软引用，虚引用并不影响对象的生命周期。虚引用主要用于跟踪对象是否已被垃圾回收器回收，以及在对象被回收时进行一些必要的清理工作。</p>
<p><strong>示例代码如下</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">PhantomReference&lt;Object&gt; phantomRef = <span class="keyword">new</span> <span class="title class_">PhantomReference</span>&lt;&gt;(object, <span class="keyword">new</span> <span class="title class_">ReferenceQueue</span>&lt;&gt;());</span><br><span class="line"><span class="comment">// 创建虚引用</span></span><br><span class="line">object = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取虚引用对应的对象，始终为 null</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">strongRef</span> <span class="operator">=</span> phantomRef.get();</span><br><span class="line">System.out.println(strongRef);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 触发垃圾回收后，虚引用对应的对象被回收，并触发清理工作</span></span><br><span class="line">System.gc();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Reference&lt;?&gt; ref = phantomRef;</span><br><span class="line">    ref.enqueue(); <span class="comment">// 完成清理工作</span></span><br><span class="line">    <span class="keyword">while</span> ((ref = (Reference&lt;?&gt;) phantomRef.queue().remove()) != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 处理 ReferenceQueue 中的 Reference，进行清理工作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​		需要注意的是，虚引用不能直接通过 get() 方法获取其对应的对象，只能通过 ReferenceQueue 进行操作。同时，在使用虚引用时，需要确保在虚引用对象被回收时，执行必要清理工作。</p>
<h4 id="终结器引用"><a href="#终结器引用" class="headerlink" title="终结器引用"></a>终结器引用</h4><p>​		终结器引用也是 Java 中的一个比较特殊的引用类型，通常称为“对象的终结器”或“finalize”引用。终结器引用通过重写 Object 类中的 finalize() 方法来实现，在对象被回收之前可以执行一些清理工作。</p>
<p>​		当 GC 发现一个可回收对象的时候，会把这个对象放到一个队列里面，然后由一个专门的线程在适当的时间调用对象的 finalize() 方法。在 finalize() 方法内部，程序可以实现释放该对象所占用的资源等操作。完成操作后，该对象的内存才会被真正释放。</p>
<p>​		需要注意的是，finalize() 方法的调用是不可靠的，即不能保证该方法一定会被调用。另外，在 Java 9 版本中，finalize() 方法已经被弃用，推荐使用 cleaner 架构进行资源回收管理。</p>
<p><strong>示例代码如下</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyObject</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="comment">// 在这里可以进行一些清理工作</span></span><br><span class="line">        <span class="built_in">super</span>.finalize();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​		需要注意的是，finalize() 方法一定要在子类中重写，在该方法中调用超类的 finalize() 方法，以确保 finalize() 链得到正确的处理。同时，由于 finalize() 方法会影响垃圾收集性能，因此应该尽量避免在程序中过多地使用该方法。</p>
<h3 id="垃圾回收算法"><a href="#垃圾回收算法" class="headerlink" title="垃圾回收算法"></a>垃圾回收算法</h3><h4 id="标记清除算法"><a href="#标记清除算法" class="headerlink" title="标记清除算法"></a>标记清除算法</h4><blockquote>
<p>速度快，产生内存碎片</p>
</blockquote>
<p>​		会产生内存碎片，当新建对象时，新建对象空间大于内存碎片大小，这时总空间足够，但是由于碎片化，创建对象无法成功，导致内存泄漏</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503114530345.png" alt="image-20230503114530345"></p>
<h4 id="标记整理算法"><a href="#标记整理算法" class="headerlink" title="标记整理算法"></a>标记整理算法</h4><p>整理会使对象移动，改变对象引用地址，导致速度较低</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503115019654.png" alt="image-20230503115019654"></p>
<h4 id="复制算法"><a href="#复制算法" class="headerlink" title="复制算法"></a>复制算法</h4><blockquote>
<p>缺点占用双倍空间</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503122332786.png" alt="image-20230503122332786"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503122356962.png" alt="image-20230503122356962"></p>
<h4 id="分代垃圾回收"><a href="#分代垃圾回收" class="headerlink" title="分代垃圾回收"></a>分代垃圾回收</h4><blockquote>
<p>简介</p>
</blockquote>
<p>​			分代垃圾回收是一种在垃圾回收过程中将对象分为几个代（Generation）的机制。一般情况下，把Java Heap里面的内存分为初始代和老年代两个领域，再把新生代分为(伊甸园)Eden区和(幸村区)Survivor区(From Space和To Space)三个区，Survivor区From Space和To Space的角色是交替的。主要目的是根据对象的生命周期将内存划分为不同的区域，并针对不同区域采用不同的垃圾收集算法，以提高垃圾回收效率。</p>
<blockquote>
<p>执行流程</p>
</blockquote>
<p>分代垃圾回收的执行流程通常包括以下几个步骤：</p>
<ol>
<li><p>对象的创建：当程序需要创建一个对象时，VM 将根据对象大小将其放入相应的内存区域中进行创建，一般会被放入 Eden 区域。</p>
</li>
<li><p>Eden 区的垃圾回收：当 Eden 区域填满时，VM 将启动一次 Minor GC（小型垃圾回收），对 Eden 区域中的对象进行垃圾回收。在回收过程中，未被回收的对象将被复制到另一个 Survivor 区域中，并从 Eden 区域中删除。</p>
</li>
<li><p>Survivor 区域的垃圾回收：在 Survivor 区域中，采用复制算法进行垃圾回收。当 Survivor 区域中的 From 区域和 To 区域被占满时，将触发一次 Minor GC，将一部分存活的对象复制到另一个 Survivor 区域。</p>
</li>
<li><p>老年代区域的垃圾回收：当老年代区域的内存空间被占满时，将启动 Major GC（大型垃圾回收），对老年代区域中的对象进行垃圾回收。在回收过程中，暂停应用程序，将未被清理的对象标记后，释放掉未标记的对象。</p>
</li>
</ol>
<p>除此之外，还有一些其他的 GC（如永久代的回收等），不过它们都与分代垃圾回收算</p>
<blockquote>
<p>模型图</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503122732600.png" alt="image-20230503122732600"></p>
<ol>
<li>对象首先分配在伊甸园区域</li>
<li>新生代空间不足时，触发 minor gc，伊园和 rom 存活的对象使用 copy 复制到 to 中，存活的对象年龄加1并目交换 from to</li>
<li>minor gc 会引发 stop the world，暂停其它用户的线程，等垃圾回收结束，用户线程才恢复运行当对象寿命超过闻值时，会晋升至老年代，最大寿命是15 (4bit)</li>
<li>当老年代空间不足，会先尝试触发 minor gc，如果之后空间仍不足，那么触发 full gc，STw的时间更长</li>
</ol>
<h4 id="垃圾回收器"><a href="#垃圾回收器" class="headerlink" title="垃圾回收器"></a>垃圾回收器</h4><ol>
<li><p>串行</p>
<ul>
<li>单线程</li>
<li>堆内存较小，适合个人电脑</li>
</ul>
</li>
<li><p>吞吐量优先</p>
<ul>
<li>多线程</li>
<li>堆内存较大场景，多核cpu支持</li>
<li>单位时间内，STW的时间最短</li>
</ul>
</li>
<li><p>响应时间优先</p>
<ul>
<li>多线程</li>
<li>堆内存较大场景，多核cpu支持</li>
<li>尽可能使STW的时间变短</li>
</ul>
</li>
</ol>
<h4 id="串行"><a href="#串行" class="headerlink" title="串行"></a>串行</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503155541835.png" alt="image-20230503155541835"></p>
<h4 id="吞吐量优先"><a href="#吞吐量优先" class="headerlink" title="吞吐量优先"></a>吞吐量优先</h4><blockquote>
<p>java8 默认使用此垃圾回收器</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503155942160.png" alt="image-20230503155942160"></p>
<h4 id="响应时间优先"><a href="#响应时间优先" class="headerlink" title="响应时间优先"></a>响应时间优先</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/2022/05/18/JVM/image-20230503160603294.png" alt="image-20230503160603294"></p>
<h2 id="类加载"><a href="#类加载" class="headerlink" title="类加载"></a>类加载</h2><h3 id="类文件结构"><a href="#类文件结构" class="headerlink" title="类文件结构"></a>类文件结构</h3><p>​	Java类文件是Java程序编译后生成的二进制文件，它包含了Java代码编译后的字节码。Java类文件结构包括以下部分：</p>
<ol>
<li>魔数：4个字节的无符号整数，标识该文件是否为Java类文件，其值为0xCAFEBABE。</li>
<li>版本信息：2个字节的无符号整数，分别表示该文件采用的Java虚拟机版本和编译器的版本。</li>
<li>常量池：包含了类、字段、方法等各种符号引用所需要的常量，它是一张表，表项数量不固定。</li>
<li>访问标志：2个字节的无符号整数，表示该类或接口的访问权限控制关键字，如public、private、final等。</li>
<li>类索引、父类索引和接口索引集合：3个字段共6个字节，分别表示该类的全限定名、父类的全限定名和该类实现的所有接口。</li>
<li>字段表集合和方法表集合：分别描述该类的所有字段和方法，每个字段和方法的表项数量不固定。</li>
<li>属性表集合：用于存储与该类相关的所有属性信息，其大小和数量不固定。</li>
</ol>
<p>​       Java类文件结构的组合形式是类似于树形结构的，多个部分按照特定的顺序排列，它们共同构成了Java程序的基本结构。</p>
<h3 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h3><p>Java虚拟机（JVM）在运行Java程序时会按照一定的顺序加载程序所需的类，类加载的步骤包括：</p>
<ol>
<li><p>加载：从文件、网络或其他来源加载字节码文件，并将其转换成该类的运行时数据结构，即JVM能够识别的对象格式。</p>
</li>
<li><p>链接：</p>
<ul>
<li><p>验证：保证该字节码文件符合JVM规范，比如是否包含不兼容的版本等错误。</p>
</li>
<li><p>准备：为类的静态变量分配存储空间，并设置默认初始化值。</p>
</li>
<li><p>解析：将类中的符号引用转换为直接引用，并将其与其他类进行连接，这是静态绑定的重要阶段。</p>
</li>
</ul>
</li>
<li><p>初始化：对类的静态字段进行初始化，包括指定字段值或执行静态语句块中的代码。当初始化一个类时，其父类也会被初始化。</p>
</li>
</ol>
<p>需要注意的是，类在运行期间可能会被多次加载，但只会初始化一次。其他的情况再次加载该类时，就会直接使用已加载的类，而不会再次初始化。</p>
<p>此外，类加载还有以下特点：</p>
<ul>
<li><p>双亲委派机制：如果一个类加载器收到了加载请求，它会先将加载请求委派给其父类加载器。这样，除了在顶层和底层之外，每个类加载器都有机会处理加载请求。</p>
</li>
<li><p>缓存机制：一旦一个类加载器将某个类加载到了内存中，它就会将该类保存在缓存中。下次请求加载该类时，它就能够直接使用缓存中的类，而无需再次加载和初始化。</p>
</li>
<li><p>可见性：一个类加载器所加载的类可以被同一个类加载器所加载的其他类所访问到，但同一个类加载器所加载的类不能被其他类加载器所加载的类所访问到。这是为了保证类的隔离性和安全性。</p>
</li>
</ul>
<h3 id="javap工具"><a href="#javap工具" class="headerlink" title="javap工具"></a>javap工具</h3><p>javap是Java开发工具包（JDK）自带的一个命令行工具，用于查看Java类文件的反汇编结果。</p>
<p>使用javap命令，你需要打开命令行窗口，然后输入以下命令：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javap [-options] [classes]</span><br></pre></td></tr></table></figure>

<p>​		其中，<code>[-options]</code>为可选项，用于设置反汇编的选项，比如 <code>-verbose</code> 选项可以显示更详细的反汇编信息；<code>[classes]</code>为必需项，指定需要反汇编的Java类文件，可以是 .class 文件、jar 文件或者包含 .class 文件的目录。</p>
<p>下面是一个简单的示例，假设我们需要反汇编 Test.class 文件，我们可以使用以下命令：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javap -verbose Test.class</span><br></pre></td></tr></table></figure>

<p>​		该命令可以显示 Test.class 文件的更详细的反汇编信息，包括类的访问修饰符、类名、父类、接口、字段、方法等等。</p>
<p>​		除了 <code>-verbose</code> 选项外，还可以使用其他选项，如 <code>-c</code> 选项可以显示字节码指令， <code>-l</code> 选项可以显示行号信息， <code>-s</code> 选项可以显示源文件以及调试符号信息等等，具体可查阅 javap 命令的文档。</p>
<blockquote>
<p>示例</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a++ + ++a +a--;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">        System.out.println(b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>javap -v StringDemo.class</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">Classfile /D:/Java_Project/mybatis/target/classes/com/xu/jvm/StringDemo.class</span><br><span class="line">  Last modified 2023-5-3; size 589 bytes</span><br><span class="line">  MD5 checksum f061b991f78db4b7bd1d3fc21f1c85fb</span><br><span class="line">  Compiled from &quot;StringDemo.java&quot;</span><br><span class="line">public class com.xu.jvm.StringDemo</span><br><span class="line">  minor version: 0</span><br><span class="line">  major version: 52            // jdk8</span><br><span class="line">  flags: ACC_PUBLIC, ACC_SUPER</span><br><span class="line">Constant pool:</span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">1 = Methodref          <span class="comment">#5.#22         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span></span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">2 = Fieldref           <span class="comment">#23.#24        // java/lang/System.out:Ljava/io/PrintStream;</span></span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">3 = Methodref          <span class="comment">#25.#26        // java/io/PrintStream.println:(I)V</span></span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">4 = Class              <span class="comment">#27            // com/xu/jvm/StringDemo</span></span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">5 = Class              <span class="comment">#28            // java/lang/Object</span></span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">6 = Utf8               &lt;init&gt;</span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">7 = Utf8               ()V</span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">8 = Utf8               Code</span></span><br><span class="line"><span class="meta prompt_">   #</span><span class="language-bash">9 = Utf8               LineNumberTable</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">10 = Utf8               LocalVariableTable</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">11 = Utf8               this</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">12 = Utf8               Lcom/xu/jvm/StringDemo;</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">13 = Utf8               main</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">14 = Utf8               ([Ljava/lang/String;)V</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">15 = Utf8               args</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">16 = Utf8               [Ljava/lang/String;</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">17 = Utf8               a</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">18 = Utf8               I</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">19 = Utf8               b</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">20 = Utf8               SourceFile</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">21 = Utf8               StringDemo.java</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">22 = NameAndType        <span class="comment">#6:#7          // &quot;&lt;init&gt;&quot;:()V</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">23 = Class              <span class="comment">#29            // java/lang/System</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">24 = NameAndType        <span class="comment">#30:#31        // out:Ljava/io/PrintStream;</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">25 = Class              <span class="comment">#32            // java/io/PrintStream</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">26 = NameAndType        <span class="comment">#33:#34        // println:(I)V</span></span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">27 = Utf8               com/xu/jvm/StringDemo</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">28 = Utf8               java/lang/Object</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">29 = Utf8               java/lang/System</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">30 = Utf8               out</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">31 = Utf8               Ljava/io/PrintStream;</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">32 = Utf8               java/io/PrintStream</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">33 = Utf8               println</span></span><br><span class="line"><span class="meta prompt_">  #</span><span class="language-bash">34 = Utf8               (I)V</span></span><br><span class="line">&#123;</span><br><span class="line">  public com.xu.jvm.StringDemo();</span><br><span class="line">    descriptor: ()V</span><br><span class="line">    flags: ACC_PUBLIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=1, locals=1, args_size=1</span><br><span class="line">         0: aload_0</span><br><span class="line">         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V</span><br><span class="line">         4: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 8: 0</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0       5     0  this   Lcom/xu/jvm/StringDemo;</span><br><span class="line"></span><br><span class="line">  public static void main(java.lang.String[]);</span><br><span class="line">    descriptor: ([Ljava/lang/String;)V</span><br><span class="line">    flags: ACC_PUBLIC, ACC_STATIC</span><br><span class="line">    Code:</span><br><span class="line">      stack=2, locals=3, args_size=1</span><br><span class="line">         0: bipush        10</span><br><span class="line">         2: istore_1				//存入一号槽位</span><br><span class="line">         3: iload_1					//加载一号槽位值到数栈</span><br><span class="line">         4: iinc          1, 1   //在一号槽位加一</span><br><span class="line">         7: iinc          1, 1</span><br><span class="line">        10: iload_1</span><br><span class="line">        11: iadd</span><br><span class="line">        12: iload_1</span><br><span class="line">        13: iinc          1, -1</span><br><span class="line">        16: iadd</span><br><span class="line">        17: istore_2</span><br><span class="line">        18: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">        21: iload_1</span><br><span class="line">        22: invokevirtual #3                  // Method java/io/PrintStream.println:(I)V</span><br><span class="line">        25: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;</span><br><span class="line">        28: iload_2</span><br><span class="line">        29: invokevirtual #3                  // Method java/io/PrintStream.println:(I)V</span><br><span class="line">        32: return</span><br><span class="line">      LineNumberTable:</span><br><span class="line">        line 10: 0</span><br><span class="line">        line 11: 3</span><br><span class="line">        line 12: 18</span><br><span class="line">        line 13: 25</span><br><span class="line">        line 14: 32</span><br><span class="line">      LocalVariableTable:</span><br><span class="line">        Start  Length  Slot  Name   Signature</span><br><span class="line">            0      33     0  args   [Ljava/lang/String;</span><br><span class="line">            3      30     1     a   I</span><br><span class="line">           18      15     2     b   I</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







































</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/108183604?s=400&amp;u=e0cc038a9caa5a1a9dda51c4b6b39b7b67a7e4db&amp;v=4" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/108183604?s=400&amp;u=e0cc038a9caa5a1a9dda51c4b6b39b7b67a7e4db&amp;v=4" title="头像" alt="头像"></a><div class="post-copyright__author_name">MR.XSS</div><div class="post-copyright__author_desc">读万卷书、行万里路</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://www.response.asia/2022/05/18/JVM/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.response.asia/2022/05/18/JVM/')">JVM</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/pic/weixinzhifu.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pic/weixinzhifu.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/pic/zhifubao.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/pic/zhifubao.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.response.asia/2022/05/18/JVM/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=JVM&amp;url=http://www.response.asia/2022/05/18/JVM/&amp;pic=https://images.alphacoders.com/106/1068443.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/java%E5%9F%BA%E7%A1%80/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>java基础<span class="tagsPageCount">2</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://images7.alphacoders.com/133/1337219.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/18/spring-ioc/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.runoob.com/images/mix/life-code-typography-hd-wallpaper-1920x1080-7168.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">spring-ioc</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/21/AVL%E6%A0%91/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.pixabay.com/photo/2016/11/19/14/00/code-1839406_960_720.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">AVL树</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/03/18/%E6%B3%9B%E5%9E%8B/" title="泛型"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.runoob.com/images/mix/4781442-d6a8c2e5714b4c44.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-03-18</div><div class="title">泛型</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> Comment</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/108183604?s=400&amp;u=e0cc038a9caa5a1a9dda51c4b6b39b7b67a7e4db&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">MR.XSS</h1><div class="author-info__desc">读万卷书、行万里路</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Xss521" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JVM"><span class="toc-number">1.</span> <span class="toc-text">JVM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="toc-number">1.1.</span> <span class="toc-text">结构图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.</span> <span class="toc-text">相关参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">程序计数器：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%88%E5%86%85%E5%AD%98"><span class="toc-number">1.4.</span> <span class="toc-text">栈内存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA"><span class="toc-number">1.4.1.</span> <span class="toc-text">栈内存溢出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E8%BF%90%E8%A1%8C%E8%AF%8A%E6%96%AD"><span class="toc-number">1.4.2.</span> <span class="toc-text">线程运行诊断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88"><span class="toc-number">1.5.</span> <span class="toc-text">本地方法栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86"><span class="toc-number">1.6.</span> <span class="toc-text">堆</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Heap-%E5%A0%86"><span class="toc-number">1.6.1.</span> <span class="toc-text">Heap 堆</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA"><span class="toc-number">1.6.2.</span> <span class="toc-text">堆内存溢出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-number">1.6.3.</span> <span class="toc-text">工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E5%8C%BA"><span class="toc-number">1.7.</span> <span class="toc-text">方法区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">1.7.1.</span> <span class="toc-text">组成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E6%B1%A0"><span class="toc-number">1.8.</span> <span class="toc-text">常量池</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#StringTable-%E4%B8%B2%E6%B1%A0"><span class="toc-number">1.8.1.</span> <span class="toc-text">StringTable(串池)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.8.2.</span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%B8%80"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">示例一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B2"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">示例2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%B8%89"><span class="toc-number">1.8.2.3.</span> <span class="toc-text">示例三</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StringTable%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">1.8.3.</span> <span class="toc-text">StringTable垃圾回收机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StringTable%E8%B0%83%E4%BC%98"><span class="toc-number">1.8.4.</span> <span class="toc-text">StringTable调优</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98"><span class="toc-number">1.9.</span> <span class="toc-text">直接内存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8A%E6%94%BE%E5%8E%9F%E7%90%86"><span class="toc-number">1.9.1.</span> <span class="toc-text">释放原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6-GC"><span class="toc-number">1.10.</span> <span class="toc-text">垃圾回收(GC)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B7%B2%E6%AD%BB%EF%BC%9F"><span class="toc-number">1.10.1.</span> <span class="toc-text">对象已死？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E7%A7%8D%E5%BC%95%E7%94%A8"><span class="toc-number">1.10.2.</span> <span class="toc-text">五种引用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E5%BC%95%E7%94%A8"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">软引用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%B1%E5%BC%95%E7%94%A8"><span class="toc-number">1.10.2.2.</span> <span class="toc-text">弱引用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E5%BC%95%E7%94%A8-%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%E9%98%9F%E5%88%97"><span class="toc-number">1.10.2.3.</span> <span class="toc-text">虚引用(使用引用队列)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E7%BB%93%E5%99%A8%E5%BC%95%E7%94%A8"><span class="toc-number">1.10.2.4.</span> <span class="toc-text">终结器引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.10.3.</span> <span class="toc-text">垃圾回收算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E7%AE%97%E6%B3%95"><span class="toc-number">1.10.3.1.</span> <span class="toc-text">标记清除算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%95%B4%E7%90%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.10.3.2.</span> <span class="toc-text">标记整理算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E7%AE%97%E6%B3%95"><span class="toc-number">1.10.3.3.</span> <span class="toc-text">复制算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E4%BB%A3%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-number">1.10.3.4.</span> <span class="toc-text">分代垃圾回收</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8"><span class="toc-number">1.10.3.5.</span> <span class="toc-text">垃圾回收器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%B2%E8%A1%8C"><span class="toc-number">1.10.3.6.</span> <span class="toc-text">串行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F%E4%BC%98%E5%85%88"><span class="toc-number">1.10.3.7.</span> <span class="toc-text">吞吐量优先</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88"><span class="toc-number">1.10.3.8.</span> <span class="toc-text">响应时间优先</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.11.</span> <span class="toc-text">类加载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">1.11.1.</span> <span class="toc-text">类文件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.11.2.</span> <span class="toc-text">执行步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#javap%E5%B7%A5%E5%85%B7"><span class="toc-number">1.11.3.</span> <span class="toc-text">javap工具</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/08/Kafka/" title="Kafka"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://images7.alphacoders.com/133/1337219.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka"/></a><div class="content"><a class="title" href="/2023/08/08/Kafka/" title="Kafka">Kafka</a><time datetime="2023-08-08T15:02:59.000Z" title="Created 2023-08-08 23:02:59">2023-08-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/06/ResponseBodyAdvice/" title="项目总结"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://images4.alphacoders.com/132/1323467.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="项目总结"/></a><div class="content"><a class="title" href="/2023/08/06/ResponseBodyAdvice/" title="项目总结">项目总结</a><time datetime="2023-08-06T13:33:18.000Z" title="Created 2023-08-06 21:33:18">2023-08-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/29/%E8%B7%A8%E5%9F%9F/" title="HTTP、HTTPS、跨域"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://images3.alphacoders.com/131/1317565.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTTP、HTTPS、跨域"/></a><div class="content"><a class="title" href="/2023/07/29/%E8%B7%A8%E5%9F%9F/" title="HTTP、HTTPS、跨域">HTTP、HTTPS、跨域</a><time datetime="2023-07-29T08:59:08.000Z" title="Created 2023-07-29 16:59:08">2023-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/14/ThreadPool/" title="ThreadPool"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://images5.alphacoders.com/127/1270260.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ThreadPool"/></a><div class="content"><a class="title" href="/2023/06/14/ThreadPool/" title="ThreadPool">ThreadPool</a><time datetime="2023-06-14T09:30:42.000Z" title="Created 2023-06-14 17:30:42">2023-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/14/Atomic/" title="Atomic"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://images8.alphacoders.com/131/1314408.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Atomic"/></a><div class="content"><a class="title" href="/2023/06/14/Atomic/" title="Atomic">Atomic</a><time datetime="2023-06-14T09:30:42.000Z" title="Created 2023-06-14 17:30:42">2023-06-14</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="/2364704998@qq.com" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/108183604?s=400&amp;u=e0cc038a9caa5a1a9dda51c4b6b39b7b67a7e4db&amp;v=4" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/Xss521" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">服务</div><div class="footer-links"><a class="footer-item" title="51la统计" target="_blank" rel="noopener" href="https://v6.51.la/">51la统计</a><a class="footer-item" title="十年之约" target="_blank" rel="noopener" href="https://www.foreverblog.cn/">十年之约</a><a class="footer-item" title="开往" target="_blank" rel="noopener" href="https://github.com/travellings-link/travellings">开往</a></div></div><div class="footer-group"><div class="footer-title">主题</div><div class="footer-links"><a class="footer-item" title="文档" href="/docs/">文档</a><a class="footer-item" title="源码" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">源码</a><a class="footer-item" title="更新日志" href="/update/">更新日志</a></div></div><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img.shields.io/badge/MR.XSS-上班了-FF0000" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2023 By <a class="footer-bar-link" href="/" title="MR.XSS" target="_blank">MR.XSS</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(result =>{
      if (true) {
        const sub = []
        const content = result.data.content
        sub.unshift(content)
        window.typed = new Typed('#footer-type-tips', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('footer-type-tips').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.0.15/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://image.anheyu.com" title="图床">图床</a><a class="footer-bar-link cc" href="/copyright" title="cc协议"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">Articles</div><div class="length-num">47</div></a><a href="/tags/" title="tag"><div class="headline">Tags</div><div class="length-num">27</div></a><a href="/categories/" title="category"><div class="headline">Categories</div><div class="length-num">7</div></a></div><span class="sidebar-menu-item-title">Function</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="Display Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>Display Mode</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.response.asia/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目一</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://github.com/Xss521/api-gateway" title="分布式服务器网关"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="分布式服务器网关"/><span class="back-menu-item-text">分布式服务器网关</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://gitee.com/xushuaishuai521/knowledge-sharing" title="知识书库"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="知识书库"/><span class="back-menu-item-text">知识书库</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 轨道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 生活</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于我</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/CAS/" style="font-size: 0.88rem;">CAS<sup>1</sup></a><a href="/tags/Docker/" style="font-size: 0.88rem;">Docker<sup>1</sup></a><a href="/tags/I-O/" style="font-size: 0.88rem;">I/O<sup>1</sup></a><a href="/tags/JWT/" style="font-size: 0.88rem;">JWT<sup>1</sup></a><a href="/tags/MQ/" style="font-size: 0.88rem;">MQ<sup>1</sup></a><a href="/tags/NOSQL/" style="font-size: 0.88rem;">NOSQL<sup>1</sup></a><a href="/tags/Pool/" style="font-size: 0.88rem;">Pool<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem;">SQL<sup>4</sup></a><a href="/tags/Spring/" style="font-size: 0.88rem;">Spring<sup>1</sup></a><a href="/tags/Swagger/" style="font-size: 0.88rem;">Swagger<sup>1</sup></a><a href="/tags/java/" style="font-size: 0.88rem;">java<sup>1</sup></a><a href="/tags/java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" style="font-size: 0.88rem;">java内存模型<sup>1</sup></a><a href="/tags/java%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">java基础<sup>2</sup></a><a href="/tags/shell/" style="font-size: 0.88rem;">shell<sup>1</sup></a><a href="/tags/spring/" style="font-size: 0.88rem;">spring<sup>1</sup></a><a href="/tags/%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">创建者模式<sup>4</sup></a><a href="/tags/%E5%93%B2%E5%AD%A6%E5%8A%A0%E5%B0%B1%E9%A4%90%E9%97%AE%E9%A2%98/" style="font-size: 0.88rem;">哲学加就餐问题<sup>1</sup></a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 0.88rem;">多线程<sup>2</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 0.88rem;">安全<sup>1</sup></a><a href="/tags/%E6%A0%91/" style="font-size: 0.88rem;">树<sup>2</sup></a><a href="/tags/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">结构型模式<sup>7</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE/" style="font-size: 0.88rem;">网络传输协议<sup>1</sup></a><a href="/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 0.88rem;">行为型模式<sup>5</sup></a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 0.88rem;">链表<sup>2</sup></a><a href="/tags/%E9%94%81/" style="font-size: 0.88rem;">锁<sup>1</sup></a><a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 0.88rem;">集合<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 0.88rem;">项目<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("10/01/2022 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.8",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 MR.XSS 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("10/01/2022 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://img.shields.io/badge/MR.XSS-下班了-FF0000";
      img.title = "下班了就该开开心心的玩耍，嘿嘿~";
      img.alt = "下班了就该开开心心的玩耍，嘿嘿~";

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.cbd.int/mermaid@10.2.4/dist/mermaid.min.js').then(runMermaid)
  }

  anzhiyu.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const initWaline = () => {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'comment.response.asia',
      pageview: true,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))
  }

  const loadWaline = async () => {
    if (typeof Waline === 'object') initWaline()
    else {
      await getCSS('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.css')
      await getScript('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.js')
      initWaline()
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = async () => {
    try {
      const res = await fetch('comment.response.asia/api/comment?type=recent&count=6', { method: 'GET' })
      const result = await res.json()
      const walineArray = result.data.map(e => {
        return {
          'content': changeContent(e.comment),
          'avatar': e.avatar,
          'nick': e.nick,
          'url': e.url + '#' + e.objectId,
          'date': e.time || e.insertedAt
        }
      })
      saveToLocal.set('waline-newest-comments', JSON.stringify(walineArray), 10/(60*24))
      generateHtml(walineArray)
    } catch (err) {
      console.error(err)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.textContent= "Unable to get the data, please make sure the settings are correct."
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('waline-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>